<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Release Parking Spot | Smart Parking</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      font-family: 'Inter', sans-serif;
      padding-top: 80px;
      color: #fff;
    }

    .navbar {
      background-color: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .navbar-brand {
      color: #16c79a !important;
      font-weight: 600;
    }

    .btn-outline-light {
      border-color: #16c79a;
      color: #16c79a;
    }

    .btn-outline-light:hover {
      background-color: #16c79a;
      color: #000;
    }

    .card-glass {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
      padding: 32px;
      margin-top: 20px;
      color: #ffffff;
    }

    label {
      font-weight: 500;
      margin-bottom: 6px;
    }

    .form-control {
      background-color: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .form-control::placeholder {
      color: #ccc;
    }

    .form-control[readonly] {
      background-color: rgba(255, 255, 255, 0.05);
      color: #bbb;
    }

    .btn-release {
      background-color: #16c79a;
      color: #fff;
      border-radius: 30px;
      padding: 10px 24px;
      font-weight: 600;
    }

    .btn-release:hover {
      background-color: #119d77;
    }

    .btn-cancel {
      background-color: #7f8c8d;
      color: #fff;
      border-radius: 30px;
      padding: 10px 24px;
      font-weight: 600;
    }

    .btn-cancel:hover {
      background-color: #636e72;
    }

    h4 {
      font-weight: 600;
      margin-bottom: 24px;
    }

    @media (max-width: 576px) {
      .card-glass {
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<!-- ✅ Navbar -->
<nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a class="navbar-brand" href="{{ url_for('user_routes.user_dashboard') }}">Smart Parking</a>
    <a class="btn btn-outline-light btn-sm ms-auto" href="{{ url_for('user_routes.edit_profile') }}">Edit Profile</a>
  </div>
</nav>

<!-- ✅ Main Content -->
<div class="container">
  <div class="card-glass">
    <h4><i class="fas fa-car me-2"></i> Release Parking Spot</h4>

    <form action="{{ url_for('user_routes.release_spot_form', reservation_id=reservation.id) }}" method="POST">
      <input type="hidden" name="reservation_id" value="{{ reservation.id }}">

      <div class="mb-3">
        <label>Spot ID:</label>
        <input type="text" class="form-control" value="{{ reservation.spot.spot_number }}" readonly>
      </div>

      <div class="mb-3">
        <label>Vehicle Number:</label>
        <input type="text" class="form-control" name="vehicle_number" value="{{ reservation.vehicle_number }}" readonly>
      </div>

      <div class="mb-3">
        <label>Parking Time:</label>
        <input type="text" class="form-control" value="{{ start_time }}" readonly>
      </div>

      <div class="mb-3">
        <label>Releasing Time:</label>
        <input type="text" class="form-control" value="{{ current_time }}" readonly>
      </div>

      <div class="mb-3">
        <label>Duration:</label>
        <input type="text" class="form-control" value="{{ duration_str }}" readonly>
      </div>

      <div class="mb-4">
        <label>Total Cost:</label>
        <input type="text" class="form-control" value="{{ total_cost }} ₹" readonly>
      </div>

      <div class="d-flex gap-3">
        <button type="submit" class="btn btn-release"><i class="fas fa-check-circle me-1"></i> Release</button>
        <a href="{{ url_for('user_routes.reservation_history') }}" class="btn btn-cancel"><i class="fas fa-times-circle me-1"></i> Cancel</a>
      </div>
    </form>
  </div>
</div>

</body>
</html>
